<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="QuestFoundry - A layered specification for creating interactive nonlinear gamebooks with multi-agent collaboration">
  <meta name="keywords" content="interactive fiction, gamebooks, CYOA, JSON Schema, multi-agent systems, AI authoring">
  <title>QuestFoundry - Specification & Schemas</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      line-height: 1.6;
      color: #333;
      background: #f5f5f5;
    }
    .container {
      max-width: 1000px;
      margin: 0 auto;
      padding: 40px 20px;
    }
    header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 60px 20px;
      text-align: center;
      margin-bottom: 40px;
      border-radius: 8px;
    }
    header h1 {
      font-size: 2.8em;
      margin-bottom: 15px;
      font-weight: 700;
    }
    header .tagline {
      font-size: 1.3em;
      opacity: 0.95;
      margin-bottom: 10px;
    }
    header .subtitle {
      font-size: 1em;
      opacity: 0.85;
    }
    .card {
      background: white;
      padding: 30px;
      margin-bottom: 30px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    h2 {
      color: #667eea;
      margin-bottom: 15px;
      font-size: 1.8em;
      font-weight: 600;
    }
    h3 {
      color: #555;
      margin-top: 20px;
      margin-bottom: 10px;
      font-size: 1.3em;
    }
    p {
      margin-bottom: 15px;
    }
    .button {
      display: inline-block;
      background: #667eea;
      color: white;
      padding: 12px 24px;
      text-decoration: none;
      border-radius: 6px;
      margin-right: 10px;
      margin-bottom: 10px;
      font-weight: 500;
      transition: background 0.3s;
    }
    .button:hover {
      background: #5568d3;
    }
    .button-secondary {
      background: #6c757d;
    }
    .button-secondary:hover {
      background: #5a6268;
    }
    .button-success {
      background: #28a745;
    }
    .button-success:hover {
      background: #218838;
    }
    .quick-nav {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 15px;
      margin-top: 20px;
    }
    .quick-nav-item {
      background: #f8f9fa;
      padding: 20px;
      border-radius: 6px;
      text-decoration: none;
      color: #333;
      transition: background 0.2s;
      border-left: 4px solid #667eea;
    }
    .quick-nav-item:hover {
      background: #e9ecef;
    }
    .quick-nav-item h4 {
      color: #667eea;
      margin-bottom: 8px;
      font-size: 1.1em;
    }
    .quick-nav-item p {
      font-size: 0.9em;
      margin: 0;
    }
    .url-box {
      background: #f8f9fa;
      border-left: 4px solid #667eea;
      padding: 15px 20px;
      margin: 15px 0;
      font-family: 'Courier New', monospace;
      font-size: 0.95em;
      word-break: break-all;
    }
    ul {
      padding-left: 20px;
      margin-bottom: 15px;
    }
    li {
      margin: 8px 0;
    }
    code {
      background: #f4f4f4;
      padding: 2px 6px;
      border-radius: 3px;
      font-family: 'Courier New', monospace;
      font-size: 0.9em;
    }
    .schema-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 10px;
      margin-top: 15px;
    }
    .schema-link {
      background: #f8f9fa;
      padding: 10px 15px;
      border-radius: 4px;
      text-decoration: none;
      color: #667eea;
      font-family: 'Courier New', monospace;
      font-size: 0.85em;
      transition: background 0.2s;
    }
    .schema-link:hover {
      background: #e9ecef;
    }
    .info-badge {
      display: inline-block;
      background: #e7f3ff;
      color: #0066cc;
      padding: 6px 12px;
      border-radius: 4px;
      font-size: 0.9em;
      margin-bottom: 15px;
    }
    .layer-status {
      display: inline-block;
      padding: 4px 10px;
      border-radius: 4px;
      font-size: 0.85em;
      font-weight: 600;
      margin-left: 8px;
    }
    .status-complete {
      background: #d4edda;
      color: #155724;
    }
    .status-progress {
      background: #fff3cd;
      color: #856404;
    }
    .status-planned {
      background: #d1ecf1;
      color: #0c5460;
    }
    footer {
      text-align: center;
      padding: 40px 20px;
      color: #666;
      font-size: 0.9em;
    }
    .stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      margin-bottom: 20px;
    }
    .stat-box {
      background: linear-gradient(135deg, #667eea20 0%, #764ba220 100%);
      padding: 20px;
      border-radius: 6px;
      text-align: center;
    }
    .stat-number {
      font-size: 2.5em;
      font-weight: 700;
      color: #667eea;
    }
    .stat-label {
      font-size: 0.9em;
      color: #555;
      margin-top: 5px;
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>üè∞ QuestFoundry</h1>
      <p class="tagline">A Layered Specification for Interactive Nonlinear Gamebooks</p>
      <p class="subtitle">Multi-agent, compositional studio for collaborative storytelling</p>
    </header>

    <div class="card">
      <h2>üìñ Welcome to QuestFoundry</h2>
      <p><strong>QuestFoundry</strong> is a comprehensive specification for creating interactive branching narratives. Unlike traditional single-author tools, QuestFoundry defines a <strong>multi-agent studio</strong> where humans and AI can collaborate through structured workflows, validated data, and clear quality criteria.</p>

      <div class="stats">
        <div class="stat-box">
          <div class="stat-number">7</div>
          <div class="stat-label">Architecture Layers</div>
        </div>
        <div class="stat-box">
          <div class="stat-number">15</div>
          <div class="stat-label">Specialized Roles</div>
        </div>
        <div class="stat-box">
          <div class="stat-number">21</div>
          <div class="stat-label">JSON Schemas</div>
        </div>
        <div class="stat-box">
          <div class="stat-number">17</div>
          <div class="stat-label">Artifact Types</div>
        </div>
      </div>

      <div style="margin-top: 20px;">
        <a href="getting-started.html" class="button button-success">üìö Get Started</a>
        <a href="https://github.com/pvliesdonk/questfoundry-spec" class="button">üíª View on GitHub</a>
        <a href="architecture.html" class="button button-secondary">üèóÔ∏è Architecture</a>
        <a href="faq.html" class="button button-secondary">‚ùì FAQ</a>
      </div>
    </div>

    <div class="card">
      <h2>üöÄ Quick Navigation</h2>
      <div class="quick-nav">
        <a href="getting-started.html" class="quick-nav-item">
          <h4>üìö Getting Started</h4>
          <p>New to QuestFoundry? Start here for a comprehensive introduction.</p>
        </a>
        <a href="architecture.html" class="quick-nav-item">
          <h4>üèóÔ∏è Architecture</h4>
          <p>Deep dive into the 7-layer architecture and design principles.</p>
        </a>
        <a href="faq.html" class="quick-nav-item">
          <h4>‚ùì FAQ</h4>
          <p>Frequently asked questions about using and implementing QuestFoundry.</p>
        </a>
        <a href="https://github.com/pvliesdonk/questfoundry-spec/tree/main/00-north-star" class="quick-nav-item">
          <h4>‚≠ê North Star</h4>
          <p>Vision, principles, and operating model (Layer 0).</p>
        </a>
        <a href="https://github.com/pvliesdonk/questfoundry-spec/tree/main/01-roles" class="quick-nav-item">
          <h4>üé≠ Roles</h4>
          <p>15 specialized role charters and responsibilities (Layer 1).</p>
        </a>
        <a href="https://github.com/pvliesdonk/questfoundry-spec/tree/main/04-protocol" class="quick-nav-item">
          <h4>üì° Protocol</h4>
          <p>Communication rules, envelopes, and state machines (Layer 4).</p>
        </a>
      </div>
    </div>

    <div class="card">
      <h2>üìä The 7 Layers</h2>
      <p>QuestFoundry organizes the specification into 7 clear layers:</p>

      <h3>Layer 0: North Star <span class="layer-status status-complete">‚úÖ 98% Complete</span></h3>
      <p><strong>Vision, principles, operating model</strong> ‚Äî The "why" and "what" of QuestFoundry.</p>
      <ul>
        <li>Working model (Hot/Cold, loops, merges)</li>
        <li>Quality bars (7 validation criteria)</li>
        <li>PN principles (player safety)</li>
        <li>All 11 workflow loops complete</li>
      </ul>
      <a href="https://github.com/pvliesdonk/questfoundry-spec/tree/main/00-north-star" class="button button-secondary">Explore Layer 0</a>

      <h3>Layer 1: Roles <span class="layer-status status-complete">‚úÖ 95% Complete</span></h3>
      <p><strong>Role charters, responsibilities, workflows</strong> ‚Äî Who does what in the studio.</p>
      <ul>
        <li>All 15 role charters complete</li>
        <li>14 agent briefs (practical heuristics)</li>
        <li>Interfaces (role interaction patterns)</li>
      </ul>
      <a href="https://github.com/pvliesdonk/questfoundry-spec/tree/main/01-roles" class="button button-secondary">Explore Layer 1</a>

      <h3>Layer 2: Common Language <span class="layer-status status-complete">‚úÖ 95% Complete</span></h3>
      <p><strong>Data dictionary, artifact templates</strong> ‚Äî Shared vocabulary and structures.</p>
      <ul>
        <li>All 21 artifact templates complete</li>
        <li>Glossary (terminology reference)</li>
        <li>Phase 3-4 enrichment complete</li>
      </ul>
      <a href="https://github.com/pvliesdonk/questfoundry-spec/tree/main/02-dictionary" class="button button-secondary">Explore Layer 2</a>

      <h3>Layer 3: Schemas <span class="layer-status status-complete">‚úÖ 100% Complete</span></h3>
      <p><strong>JSON Schema specifications</strong> ‚Äî Machine-readable validation rules.</p>
      <ul>
        <li>21 JSON schemas (Draft 2020-12)</li>
        <li>Canonical URLs at <code>questfoundry.liesdonk.nl/schemas/</code></li>
        <li>Validation toolkit (<code>spec-tools</code>)</li>
      </ul>
      <a href="https://github.com/pvliesdonk/questfoundry-spec/tree/main/03-schemas" class="button button-secondary">Explore Layer 3</a>
      <a href="/schemas/" class="button">Browse Schemas</a>

      <h3>Layer 4: Protocol <span class="layer-status status-complete">‚úÖ 95% Complete</span></h3>
      <p><strong>Communication protocol</strong> ‚Äî Message envelopes, intents, state machines.</p>
      <ul>
        <li>Envelope specification (transport-agnostic)</li>
        <li>Intent catalog (30+ intents)</li>
        <li>State machines (hook, TU, gate, view lifecycles)</li>
        <li>Message flows and 15+ example messages</li>
      </ul>
      <a href="https://github.com/pvliesdonk/questfoundry-spec/tree/main/04-protocol" class="button button-secondary">Explore Layer 4</a>

      <h3>Layer 5: Prompts <span class="layer-status status-progress">üöß 85% Complete</span></h3>
      <p><strong>AI agent implementations</strong> ‚Äî System prompts for Claude/ChatGPT/Gemini.</p>
      <ul>
        <li>All 15 system prompts complete</li>
        <li>Shared resources (context, safety, escalation)</li>
        <li>Intent handlers and examples</li>
      </ul>
      <a href="https://github.com/pvliesdonk/questfoundry-spec/tree/main/05-prompts" class="button button-secondary">Explore Layer 5</a>

      <h3>Layer 6: Libraries <span class="layer-status status-planned">üìã Planned</span></h3>
      <p><strong>Python/TypeScript SDKs</strong> ‚Äî Software libraries for tool builders.</p>

      <h3>Layer 7: UI <span class="layer-status status-planned">üìã Planned</span></h3>
      <p><strong>User interfaces</strong> ‚Äî CLI, GUI, and Player-Narrator surfaces.</p>
    </div>

    <div class="card">
      <h2>üîó Schema Access</h2>

      <div class="info-badge">‚úÖ Canonical URLs Active</div>

      <p>All QuestFoundry schemas are available at stable, canonical URLs:</p>

      <div class="url-box">
        https://questfoundry.liesdonk.nl/schemas/{schema-name}.schema.json
      </div>

      <h3>Examples</h3>
      <ul>
        <li><code>https://questfoundry.liesdonk.nl/schemas/hook_card.schema.json</code></li>
        <li><code>https://questfoundry.liesdonk.nl/schemas/tu_brief.schema.json</code></li>
        <li><code>https://questfoundry.liesdonk.nl/schemas/canon_pack.schema.json</code></li>
      </ul>

      <h3>Available Schemas (21 total)</h3>

      <h4>Core Artifacts</h4>
      <div class="schema-grid">
        <a href="/schemas/hook_card.schema.json" class="schema-link">hook_card</a>
        <a href="/schemas/tu_brief.schema.json" class="schema-link">tu_brief</a>
        <a href="/schemas/canon_pack.schema.json" class="schema-link">canon_pack</a>
        <a href="/schemas/gatecheck_report.schema.json" class="schema-link">gatecheck_report</a>
      </div>

      <h4>Content Artifacts</h4>
      <div class="schema-grid">
        <a href="/schemas/codex_entry.schema.json" class="schema-link">codex_entry</a>
        <a href="/schemas/style_manifest.schema.json" class="schema-link">style_manifest</a>
        <a href="/schemas/style_addendum.schema.json" class="schema-link">style_addendum</a>
        <a href="/schemas/register_map.schema.json" class="schema-link">register_map</a>
        <a href="/schemas/edit_notes.schema.json" class="schema-link">edit_notes</a>
        <a href="/schemas/research_memo.schema.json" class="schema-link">research_memo</a>
      </div>

      <h4>Asset Artifacts</h4>
      <div class="schema-grid">
        <a href="/schemas/art_plan.schema.json" class="schema-link">art_plan</a>
        <a href="/schemas/art_manifest.schema.json" class="schema-link">art_manifest</a>
        <a href="/schemas/shotlist.schema.json" class="schema-link">shotlist</a>
        <a href="/schemas/audio_plan.schema.json" class="schema-link">audio_plan</a>
        <a href="/schemas/cuelist.schema.json" class="schema-link">cuelist</a>
      </div>

      <h4>Export & Project</h4>
      <div class="schema-grid">
        <a href="/schemas/view_log.schema.json" class="schema-link">view_log</a>
        <a href="/schemas/front_matter.schema.json" class="schema-link">front_matter</a>
        <a href="/schemas/language_pack.schema.json" class="schema-link">language_pack</a>
        <a href="/schemas/pn_playtest_notes.schema.json" class="schema-link">pn_playtest_notes</a>
        <a href="/schemas/project_metadata.schema.json" class="schema-link">project_metadata</a>
      </div>

      <div style="margin-top: 20px;">
        <a href="/schemas/" class="button button-secondary">Browse All Schemas</a>
      </div>
    </div>

    <div class="card">
      <h2>üõ†Ô∏è Validation Tools</h2>
      <p>QuestFoundry includes <code>spec-tools</code>, a Python toolkit for validating schemas, artifacts, and protocol messages.</p>

      <h3>Installation</h3>
      <div class="url-box">
$ cd spec-tools
$ uv sync
      </div>

      <h3>Commands</h3>
      <div class="url-box">
# Validate all schemas (meta-validation)
$ uv run qfspec-validate

# Validate a specific artifact instance
$ uv run qfspec-check-instance hook_card my-hook.json

# Validate a protocol envelope (two-pass: structure + payload)
$ uv run qfspec-check-envelope my-message.json

# Build AI prompt kits for uploading to LLMs
$ uv run qfspec-build-kits
      </div>

      <a href="https://github.com/pvliesdonk/questfoundry-spec/tree/main/spec-tools" class="button">View spec-tools Documentation</a>
    </div>

    <div class="card">
      <h2>üí¨ Community & Support</h2>
      <ul>
        <li><strong>GitHub Repository:</strong> <a href="https://github.com/pvliesdonk/questfoundry-spec">pvliesdonk/questfoundry-spec</a></li>
        <li><strong>Issues:</strong> <a href="https://github.com/pvliesdonk/questfoundry-spec/issues">Report bugs or request features</a></li>
        <li><strong>Discussions:</strong> <a href="https://github.com/pvliesdonk/questfoundry-spec/discussions">Ask questions and share ideas</a></li>
        <li><strong>Contributing:</strong> <a href="https://github.com/pvliesdonk/questfoundry-spec/blob/main/CONTRIBUTING.md">Contribution guidelines</a></li>
      </ul>
    </div>

    <div class="card">
      <h2>üôè Acknowledgments</h2>
      <p>This specification was written almost entirely by <strong>Claude (Anthropic's AI assistant)</strong> under the direction of <strong>Peter van Liesdonk</strong>, made possible by generous free API credits from Anthropic.</p>
      <p>The collaborative process demonstrates the practical application of multi-agent authoring systems that QuestFoundry aims to enable.</p>
    </div>

    <footer>
      <p><strong>QuestFoundry</strong> ‚Äî A layered studio for nonlinear gamebooks</p>
      <p>Schemas conform to JSON Schema Draft 2020-12</p>
      <p>Licensed under MIT | Version: 0.2.0 | Last Updated: 2025-11-05</p>
      <p><a href="https://github.com/pvliesdonk/questfoundry-spec">GitHub</a> | <a href="getting-started.html">Get Started</a> | <a href="faq.html">FAQ</a></p>
    </footer>
  </div>
</body>
</html>
